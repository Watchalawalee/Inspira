<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-800 p-6">
  <button id="logoutBtn" class="bg-gray-300 text-black px-4 py-2 rounded hover:bg-gray-400">
    ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
  </button>

  <div class="text-center">
    <h1 class="text-2xl font-bold mb-4">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h1>
    <button onclick="loadSuggestions()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
      ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏™‡∏ô‡∏≠‡∏°‡∏≤
    </button>
    <button onclick="loadOthersExhibitions()" class="bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 mt-2">
      ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô Others
    </button>
  </div>
  <div id="filterControls" class="mb-4 text-right hidden">
    <label for="statusFilter" class="mr-2 font-medium">‡∏Å‡∏£‡∏≠‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</label>
    <select id="statusFilter" class="border rounded p-1">
      <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
      <option value="ongoing">ongoing</option>
      <option value="upcoming">upcoming</option>
      <option value="past">past</option>
    </select>
  </div>
  

  <div id="pendingList" class="mt-6 space-y-4 hidden"></div>
  <div id="othersList" class="mt-6 space-y-4 hidden"></div>


  <script>
    axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem('token');

    const token = localStorage.getItem('token');
    if (!token) {
      alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô");
      window.location.href = "/login.html";
    }

    axios.get('/auth/me')
      .then(res => {
        if (res.data.role !== 'admin') {
          alert("‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ");
          window.location.href = "/public/home.html";
        }
      })
      .catch(() => {
        alert("Session ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á");
        window.location.href = "/login.html";
      });

    async function fetchCategories() {
      const res = await axios.get('/categories');
      return res.data;
    }

    async function loadSuggestions() {
      const container = document.getElementById('pendingList');
      container.classList.remove('hidden');
      document.getElementById('othersList').classList.add('hidden'); 
      document.getElementById('filterControls').classList.add('hidden');
      try {
        const res = await axios.get('/admin/suggestions/pending');
        const categories = await fetchCategories();

        container.innerHTML = '';
        if (res.data.length === 0) {
          container.innerHTML = '<p class="text-center text-gray-500">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</p>';
          return;
        }

        await loadCategories();

        res.data.forEach(s => {
          const card = document.createElement('div');
          card.className = 'bg-white p-4 rounded shadow';
          card.id = `card-${s._id}`; 

          const isOthers = s.categories?.includes("Others");
          let options = '';
          if (isOthers && allCategories.length > 0) {
            options = allCategories
              .filter(c => c.name !== "Others")
              .map(c => `<option value="${c.name}">${c.name}</option>`)
              .join('');
          }


          card.innerHTML = `
            <h2 class="text-xl font-bold mb-2">${s.title}</h2>
            <p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà:</strong> ${s.location || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏'}</p>
            <p><strong>‡∏ß‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°:</strong> ${s.start_date || '-'} | <strong>‡∏ß‡∏±‡∏ô‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î:</strong> ${s.end_date || '-'}</p>
            <p><strong>‡πÄ‡∏ß‡∏•‡∏≤:</strong> ${s.event_slot_time || '-'}</p>
            <p><strong>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà:</strong> ${s.categories?.join(', ') || '-'}</p>
            ${isOthers ? `
              <label class="block mt-2">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà:</label>
              <select data-id="${s._id}" class="w-full border rounded p-2">
                <option selected disabled>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
                ${options}
              </select>
              <button onclick="saveSelectedCategory('${s._id}')" class="mt-2 bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600">
                üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
              </button>

            ` : ''}
            <p class="break-all w-full"><strong>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</strong> ${s.description || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢'}</p>
            <p><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏°:</strong> ${s.ticket || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏'}</p>
            <p><strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ö‡∏±‡∏ï‡∏£:</strong> ${s.ticket_price?.length ? s.ticket_price.join(', ') + ' ‡∏ö‡∏≤‡∏ó' : '-'}</p>
            <p><strong>‡∏•‡∏∞‡∏ï‡∏¥‡∏à‡∏π‡∏î:</strong> ${s.latitude || '-'} | <strong>‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏à‡∏π‡∏î:</strong> ${s.longitude || '-'}</p>
            ${s.image_url ? `<img src="${s.image_url}" class="mt-4 w-full max-h-60 object-contain rounded">` : ''}
            <div class="mt-4 flex gap-2">
              <button onclick="approveSuggestion('${s._id}')" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">‚úÖ ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</button>
              <button onclick="deleteSuggestion('${s._id}')" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">üóë ‡∏•‡∏ö</button>
            </div>
          `;

          container.appendChild(card);
        });
      } catch (err) {
        alert("‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß");
        console.error(err);
      }
    }

    async function updateCategory(id, newCategory) {
      try {
        await axios.put(`/admin/suggestions/${id}/category`, { category: newCategory });
        alert("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
        loadSuggestions(); // ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
      } catch (err) {
        console.error("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", err);
        alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÑ‡∏î‡πâ");
      }
    }


    async function approveSuggestion(id) {
      try {
        await axios.put(`/admin/suggestions/${id}/approve`);
        alert("‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß");
        loadSuggestions();
      } catch (err) {
        console.error(err);
        alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ");
      }
    }

    async function deleteSuggestion(id) {
      if (!confirm("‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö?")) return;
      try {
        await axios.delete(`/admin/suggestions/${id}`);
        alert("‡∏•‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢");
        loadSuggestions();
      } catch (err) {
        console.error(err);
        alert("‡∏•‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
      }
    }

    function saveSelectedCategory(id) {
      const selectEl = document.querySelector(`select[data-id="${id}"]`);
      const newCategory = selectEl?.value;

      if (!newCategory || newCategory === "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà") {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å");
        return;
      }

      updateCategory(id, newCategory);
    }


    document.getElementById('logoutBtn')?.addEventListener('click', () => {
      localStorage.removeItem('token');
      alert('‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß');
      window.location.href = 'index.html';
    });

    let allCategories = [];
    let currentPage = 1;
    let totalExhibitions = 0;
    let perPage = 10;

    // ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Å‡πà‡∏≠‡∏ô
    async function loadCategories() {
      try {
        const res = await axios.get('/categories');
        allCategories = res.data;
      } catch (err) {
        console.error("‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß", err);
      }
    }

    async function loadOthersExhibitions(reset = true) {
      document.getElementById('filterControls').classList.remove('hidden');
      document.getElementById('pendingList').classList.add('hidden');
      const container = document.getElementById('othersList');

      container.classList.remove('hidden');
      if (reset) {
        container.innerHTML = "<p class='text-center'>üîÑ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>";
        currentPage = 1;
      }

      try {
        const categoriesRes = await axios.get('/categories');
        const allCats = categoriesRes.data.filter(c => c.name !== "Others");

        const status = document.getElementById('statusFilter')?.value || 'all';
        const res = await axios.get(`/admin/exhibitions/others?page=${currentPage}&limit=${perPage}&status=${status}`);
        const { exhibitions, total } = res.data;
        totalExhibitions = total;

        if (reset) container.innerHTML = '';

        if (exhibitions.length === 0 && reset) {
          container.innerHTML = '<p class="text-center text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ô‡∏¥‡∏ó‡∏£‡∏£‡∏®‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà Others</p>';
          return;
        }

        const fragment = document.createDocumentFragment();

        exhibitions.forEach(ex => {
          const card = document.createElement('div');
          card.className = 'bg-white p-4 rounded shadow';

          const options = allCats.map(c => `<option value="${c.name}">${c.name}</option>`).join('');

          card.innerHTML = `
            <h2 class="text-xl font-bold mb-2">${ex.title}</h2>
            <p><strong>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong> ${ex.description || '-'}</p>
            <p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà:</strong> ${ex.location || '-'}</p>
            <p><strong>‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏î‡∏¥‡∏°:</strong> ${ex.categories?.join(', ') || '-'}</p>
            <label class="block mt-2">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà:</label>
            <select class="w-full border rounded p-2" id="cat-${ex._id}">
              <option disabled selected>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</option>
              ${options}
            </select>
            <button onclick="saveCategory('${ex._id}')" class="mt-2 bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600">
              üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
            </button>
            <button onclick="confirmOthers('${ex._id}')" 
              class="mt-2 bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-800">
              ‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤ Others ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
            </button>


          `;

          fragment.appendChild(card);
        });

        container.appendChild(fragment);
        document.getElementById('statusFilter')?.addEventListener('change', () => {
          loadOthersExhibitions(true);
        });


        // üîÑ ‡∏õ‡∏∏‡πà‡∏° Load More
        const existingBtn = document.getElementById('loadMoreBtn');
        if (existingBtn) existingBtn.remove();

        if (currentPage * perPage < totalExhibitions) {
          const btn = document.createElement('button');
          btn.id = 'loadMoreBtn';
          btn.className = 'mt-4 bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-900 block mx-auto';
          btn.innerText = '‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°';
          btn.onclick = () => {
            currentPage++;
            loadOthersExhibitions(false);
          };
          container.appendChild(btn);
        }

      } catch (err) {
        console.error(err);
        container.innerHTML = '<p class="text-center text-red-500">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</p>';
      }
    }


    async function saveCategory(id) {
      const selectEl = document.getElementById(`cat-${id}`);
      const newCategory = selectEl?.value;
      if (!newCategory || newCategory === "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà") {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å");
        return;
      }

      try {
        await axios.put(`/admin/exhibitions/${id}/category`, { category: newCategory });
        alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");

        // ‚úÖ ‡∏•‡∏ö card ‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å DOM
        const card = selectEl.closest(".bg-white");
        if (card) card.remove();

        // ‚úÖ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏•‡∏¢ ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß
        const remaining = document.querySelectorAll('#othersList .bg-white');
        if (remaining.length === 0) {
          const container = document.getElementById('othersList');
          container.innerHTML = '<p class="text-center text-gray-500">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô Others ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà</p>';
        }
      } catch (err) {
        console.error(err);
        alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ");
      }
    }

    async function confirmOthers(id) {
    try {
      await axios.put(`/admin/exhibitions/${id}/category`, { category: "Others" });
      alert("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏´‡∏°‡∏ß‡∏î Others ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");

      // ‚úÖ ‡∏•‡∏ö‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å DOM ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
      const card = document.querySelector(`#cat-${id}`)?.closest('.bg-white');
      if (card) card.remove();

      // ‚úÖ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏•‡∏¢ ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
      const remaining = document.querySelectorAll('#othersList .bg-white');
      if (remaining.length === 0) {
        const container = document.getElementById('othersList');
        container.innerHTML = '<p class="text-center text-gray-500">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô Others ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà</p>';
      }
      
    } catch (err) {
      console.error(err);
      alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô");
    }
  }
    // ‚úÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ status filter ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤
    document.getElementById('statusFilter')?.addEventListener('change', () => {
      loadOthersExhibitions(true);
    });

  </script>
</body>
</html>